# PromptFactory (æ™ºé—®å·¥åŠ)

> ä¸€ä¸ªåŸºäºFlaskçš„å¯è§†åŒ–Webåº”ç”¨ï¼Œæ”¯æŒå¤šé¡¹ç›®ç®¡ç†ã€åŠ¨æ€æç¤ºè¯ç¼–å†™å’Œå¤§æ¨¡å‹APIæ‰¹é‡è°ƒç”¨ã€‚

## é¡¹ç›®æˆªå›¾

### ä¸»ç•Œé¢
![ä¸»ç•Œé¢](imgs/1.png)

### æ‰¹é‡å¤„ç†ç¤ºä¾‹
![æ‰¹é‡å¤„ç†](imgs/2.png)

## åŠŸèƒ½ç‰¹æ€§

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½
- **å¤šé¡¹ç›®ç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®ç‹¬ç«‹çš„APIé…ç½®å’Œæç¤ºè¯æ¨¡æ¿
- **å…¨å±€æç¤ºè¯æ¨¡æ¿åº“**: åˆ›å»ºå’Œç®¡ç†å¯å¤ç”¨çš„æç¤ºè¯æ¨¡æ¿ï¼Œæ”¯æŒè·¨é¡¹ç›®ä½¿ç”¨
- **åŠ¨æ€æç¤ºè¯**: æ”¯æŒå˜é‡æ›¿æ¢ `{{å˜é‡å}}` çš„æç¤ºè¯æ¨¡æ¿ï¼Œæ™ºèƒ½å˜é‡è¯†åˆ«
- **æ‰¹é‡å¤„ç†**: é«˜å¹¶å‘å¤„ç†JSONLæ–‡ä»¶ï¼Œæ”¯æŒè‡ªå®šä¹‰å¹¶å‘æ•°ï¼ˆ1-50çº¿ç¨‹ï¼‰
- **å®æ—¶è¿›åº¦è·Ÿè¸ª**: åŸºäºSSEçš„å®æ—¶è¿›åº¦æ¨é€å’Œæ—¥å¿—æ˜¾ç¤º
- **APIé…ç½®ç®¡ç†**: æ”¯æŒå¤šç§å¤§æ¨¡å‹APIï¼ˆOpenAIã€è‡ªå®šä¹‰APIç­‰ï¼‰
- **å¤„ç†å†å²è®°å½•**: å®Œæ•´çš„å¤„ç†å†å²ï¼ŒåŒ…æ‹¬æˆåŠŸ/å¤±è´¥ç»Ÿè®¡å’Œé”™è¯¯æ—¥å¿—
- **ç»“æœè‡ªåŠ¨å¯¼å‡º**: å¤„ç†å®Œæˆåè‡ªåŠ¨ä¸‹è½½åŒ…å«AIå“åº”çš„JSONLæ–‡ä»¶

### ğŸ›  æŠ€æœ¯ç‰¹æ€§
- **å¹¶å‘å¤„ç†**: åŸºäºThreadPoolExecutorçš„é«˜æ€§èƒ½å¹¶å‘APIè°ƒç”¨
- **æ™ºèƒ½é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æ•è·ã€é‡è¯•æœºåˆ¶å’Œé”™è¯¯æ—¥å¿—
- **å®æ—¶è¿›åº¦åé¦ˆ**: Server-Sent Events (SSE) å®ç°çš„å®æ—¶è¿›åº¦æ¨é€
- **æ•°æ®æŒä¹…åŒ–**: SQLiteæ•°æ®åº“å­˜å‚¨é¡¹ç›®é…ç½®ã€æ¨¡æ¿å’Œå¤„ç†è®°å½•
- **å“åº”å¼UI**: ç°ä»£åŒ–Webç•Œé¢ï¼Œæ”¯æŒæ‹–æ‹½ä¸Šä¼ å’Œç§»åŠ¨ç«¯é€‚é…
- **å®‰å…¨è®¤è¯**: æ”¯æŒå¤šç§APIè®¤è¯æ–¹å¼ï¼ˆBearer Tokenã€è‡ªå®šä¹‰Headerç­‰ï¼‰

## é¡¹ç›®ç»“æ„

```
server/
â”œâ”€â”€ app.py                          # ä¸»åº”ç”¨ç¨‹åº
â”œâ”€â”€ requirements.txt                # Pythonä¾èµ–
â”œâ”€â”€ README.md                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ projects.db                     # SQLiteæ•°æ®åº“ï¼ˆè¿è¡Œæ—¶åˆ›å»ºï¼‰
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ prompt_templates.json       # é¢„ç½®æç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ æ— ç›‘ç£æ•°æ®-result.jsonl     # ç¤ºä¾‹æ•°æ®æ–‡ä»¶
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ app.js                      # å‰ç«¯JavaScript
â”‚   â”œâ”€â”€ styles.css                  # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ prompt_templates.json       # å‰ç«¯æ¨¡æ¿é…ç½®
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html                  # ä¸»é¡µé¢æ¨¡æ¿
â””â”€â”€ imgs/
    â”œâ”€â”€ 1.png                       # é¡¹ç›®æˆªå›¾
    â””â”€â”€ 2.png                       # ä½¿ç”¨ç¤ºä¾‹
```

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- Python 3.7+
- ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. å¯åŠ¨åº”ç”¨

```bash
python app.py
```

åº”ç”¨å°†åœ¨ http://localhost:5001 ä¸Šè¿è¡Œ

### 4. é¦–æ¬¡ä½¿ç”¨

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:5001
2. ç‚¹å‡»"åˆ›å»ºæ–°é¡¹ç›®"å¼€å§‹ä½¿ç”¨
3. é…ç½®APIå‚æ•°åå³å¯å¼€å§‹æ‰¹é‡å¤„ç†

## è¯¦ç»†ä½¿ç”¨æŒ‡å—

### ğŸ“ é¡¹ç›®ç®¡ç†

#### åˆ›å»ºæ–°é¡¹ç›®
1. ç‚¹å‡»"åˆ›å»ºæ–°é¡¹ç›®"æŒ‰é’®
2. å¡«å†™é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼š
   - **é¡¹ç›®åç§°**: é¡¹ç›®çš„æ˜¾ç¤ºåç§°
   - **é¡¹ç›®æè¿°**: é¡¹ç›®ç”¨é€”è¯´æ˜ï¼ˆå¯é€‰ï¼‰
3. é…ç½®APIå‚æ•°ï¼š
   - **APIåœ°å€**: å¤§æ¨¡å‹APIçš„å®Œæ•´URL
   - **æ¨¡å‹åç§°**: ä½¿ç”¨çš„æ¨¡å‹åç§°
   - **APIå¯†é’¥**: è®¤è¯å¯†é’¥
   - **æ¸©åº¦**: æ§åˆ¶è¾“å‡ºéšæœºæ€§ï¼ˆ0-2ï¼Œæ¨è0.3-0.7ï¼‰
   - **æœ€å¤§ç”Ÿæˆé•¿åº¦**: å•æ¬¡å“åº”çš„æœ€å¤§tokenæ•°
   - **è¶…æ—¶æ—¶é—´**: è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

#### é¡¹ç›®æ“ä½œ
- **ç¼–è¾‘é¡¹ç›®**: ç‚¹å‡»é¡¹ç›®å¡ç‰‡çš„ç¼–è¾‘æŒ‰é’®
- **åˆ é™¤é¡¹ç›®**: ç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼ˆéœ€ç¡®è®¤ï¼‰
- **æŸ¥çœ‹è¯¦æƒ…**: ç‚¹å‡»é¡¹ç›®å¡ç‰‡è¿›å…¥è¯¦æƒ…é¡µé¢

### ğŸ“ æç¤ºè¯æ¨¡æ¿ç®¡ç†

#### å…¨å±€æ¨¡æ¿åº“
- åœ¨ä¾§è¾¹æ è®¿é—®"æç¤ºè¯æ¨¡æ¿"
- åˆ›å»ºå¯å¤ç”¨çš„æ¨¡æ¿ï¼Œæ”¯æŒè·¨é¡¹ç›®ä½¿ç”¨
- é¢„ç½®äº†å¸¸ç”¨æ¨¡æ¿ï¼šåŸºç¡€é—®ç­”ã€è¯¦ç»†é—®ç­”ã€ç¿»è¯‘ã€åˆæˆé—®ç­”å¯¹ç­‰

#### åŠ¨æ€æç¤ºè¯ç¼–å†™
1. ä½¿ç”¨ `{{å˜é‡å}}` æ ¼å¼å¼•ç”¨æ•°æ®å­—æ®µ
2. ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ä¸Šä¼ æ–‡ä»¶ä¸­çš„å¯ç”¨å˜é‡
3. ç‚¹å‡»å˜é‡æ ‡ç­¾å¿«é€Ÿæ’å…¥
4. æ”¯æŒå®æ—¶é¢„è§ˆå’Œæµ‹è¯•

### ğŸ“¤ æ–‡ä»¶å¤„ç†æµç¨‹

#### 1. ä¸Šä¼ æ•°æ®æ–‡ä»¶
- æ”¯æŒJSONLæ ¼å¼æ–‡ä»¶ï¼ˆæ¯è¡Œä¸€ä¸ªJSONå¯¹è±¡ï¼‰
- æ‹–æ‹½ä¸Šä¼ æˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶
- è‡ªåŠ¨è§£æå¹¶æ˜¾ç¤ºæ–‡ä»¶é¢„è§ˆ
- æå–æ‰€æœ‰å¯ç”¨å˜é‡ä¾›æ¨¡æ¿ä½¿ç”¨

#### 2. ç¼–å†™æç¤ºè¯æ¨¡æ¿
```
è¯·æ ¹æ®ä»¥ä¸‹ä¿¡æ¯å›ç­”ï¼š

ç”¨æˆ·é—®é¢˜ï¼š{{user_input}}
å‚è€ƒèµ„æ–™ï¼š{{text}}

è¯·æä¾›è¯¦ç»†ã€å‡†ç¡®çš„å›ç­”ã€‚
```

#### 3. æµ‹è¯•æç¤ºè¯
- ä½¿ç”¨æ–‡ä»¶ä¸­çš„ç¬¬ä¸€æ¡æ•°æ®è¿›è¡Œæµ‹è¯•
- æŸ¥çœ‹æ¸²æŸ“åçš„æç¤ºè¯å’ŒAPIå“åº”
- ç¡®ä¿æ¨¡æ¿æ­£ç¡®åå†è¿›è¡Œæ‰¹é‡å¤„ç†

#### 4. æ‰¹é‡å¤„ç†è®¾ç½®
- **å¹¶å‘çº¿ç¨‹æ•°**: æ ¹æ®APIé™åˆ¶è®¾ç½®ï¼ˆå»ºè®®5-20ï¼‰
- **ç»“æœå­—æ®µå**: æŒ‡å®šAIå“åº”å­˜å‚¨çš„å­—æ®µåï¼ˆé»˜è®¤"response"ï¼‰
- **å®æ—¶ç›‘æ§**: æŸ¥çœ‹å¤„ç†è¿›åº¦å’Œæ¯æ¡æ•°æ®çš„å¤„ç†ç»“æœ

## APIé…ç½®ç¤ºä¾‹

### OpenAI API
```json
{
  "api_url": "https://api.openai.com/v1/chat/completions",
  "modelName": "gpt-4",
  "apiKey": "sk-your-openai-api-key",
  "temperature": 0.7,
  "maxTokens": 1000,
  "timeout": 30
}
```

### Azure OpenAI
```json
{
  "api_url": "https://your-resource.openai.azure.com/openai/deployments/your-deployment/chat/completions?api-version=2023-12-01-preview",
  "modelName": "gpt-4",
  "apiKey": "your-azure-api-key",
  "temperature": 0.3,
  "maxTokens": 16384,
  "timeout": 60
}
```

### è‡ªå®šä¹‰API
```json
{
  "api_url": "https://your-api-endpoint.com/v1/chat/completions",
  "modelName": "your-model-name",
  "authorization": "Bearer your-custom-token",
  "temperature": 0.5,
  "maxTokens": 2048,
  "timeout": 45
}
```

## æ•°æ®æ ¼å¼è¯´æ˜

### è¾“å…¥æ–‡ä»¶æ ¼å¼ï¼ˆJSONLï¼‰
æ¯è¡Œå¿…é¡»æ˜¯ä¸€ä¸ªå®Œæ•´çš„JSONå¯¹è±¡ï¼š

```jsonl
{"text": "äººå·¥æ™ºèƒ½çš„åŸºæœ¬æ¦‚å¿µ", "user_input": "ä»€ä¹ˆæ˜¯AIï¼Ÿ", "category": "technology"}
{"text": "æœºå™¨å­¦ä¹ ç®—æ³•åŸç†", "user_input": "æœºå™¨å­¦ä¹ å¦‚ä½•å·¥ä½œï¼Ÿ", "category": "education"}
{"text": "æ·±åº¦å­¦ä¹ ç½‘ç»œç»“æ„", "user_input": "ç¥ç»ç½‘ç»œæ˜¯ä»€ä¹ˆï¼Ÿ", "category": "research"}
```

### è¾“å‡ºæ–‡ä»¶æ ¼å¼
å¤„ç†åæ–‡ä»¶åŒ…å«åŸæ•°æ® + AIå“åº”ï¼š

```jsonl
{"text": "äººå·¥æ™ºèƒ½çš„åŸºæœ¬æ¦‚å¿µ", "user_input": "ä»€ä¹ˆæ˜¯AIï¼Ÿ", "category": "technology", "response": "äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯..."}
{"text": "æœºå™¨å­¦ä¹ ç®—æ³•åŸç†", "user_input": "æœºå™¨å­¦ä¹ å¦‚ä½•å·¥ä½œï¼Ÿ", "category": "education", "response": "æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§AIæŠ€æœ¯ï¼Œé€šè¿‡ç®—æ³•è®©è®¡ç®—æœº..."}
{"text": "æ·±åº¦å­¦ä¹ ç½‘ç»œç»“æ„", "user_input": "ç¥ç»ç½‘ç»œæ˜¯ä»€ä¹ˆï¼Ÿ", "category": "research", "response": "ç¥ç»ç½‘ç»œæ˜¯æ¨¡ä»¿äººè„‘ç¥ç»å…ƒè¿æ¥æ–¹å¼..."}
```

## ğŸ³ Docker éƒ¨ç½²

### åœ¨ WSL ä¸­æ„å»º ARM é•œåƒ

#### 1. ç¯å¢ƒå‡†å¤‡

é¦–å…ˆç¡®ä¿æ‚¨çš„WSLç¯å¢ƒä¸­å·²å®‰è£…Dockerå¹¶å¯ç”¨äº†buildxï¼š

```bash
# æ£€æŸ¥Dockerç‰ˆæœ¬
docker --version

# æ£€æŸ¥buildxæ˜¯å¦å¯ç”¨
docker buildx version

# åˆ›å»ºå¹¶ä½¿ç”¨å¤šå¹³å°æ„å»ºå™¨
docker buildx create --name multiarch --driver docker-container --use
docker buildx inspect --bootstrap
```

#### 2. æ„å»º ARM é•œåƒ

```bash
# æ„å»º ARM64 é•œåƒ
docker build --platform linux/arm64 -t promptfactory:arm64 .

# æ„å»ºå¤šå¹³å°é•œåƒï¼ˆARM64 + AMD64ï¼‰
docker buildx build --platform linux/arm64,linux/amd64 -t promptfactory:latest .

# æ„å»ºå¹¶æ¨é€åˆ°Docker Hubï¼ˆå¯é€‰ï¼‰
docker buildx build --platform linux/arm64,linux/amd64 -t yourusername/promptfactory:latest --push .
```

#### 3. æ‹‰å–å’Œè¿è¡Œé•œåƒ

å¦‚æœæ‚¨å·²ç»å°†é•œåƒæ¨é€åˆ°é•œåƒä»“åº“ï¼Œå¯ä»¥ç›´æ¥æ‹‰å–ï¼š

```bash
# æ‹‰å– ARM64 é•œåƒ
docker pull yourusername/promptfactory:latest

# è¿è¡Œå®¹å™¨
docker run -d \
  --name promptfactory \
  -p 5001:5001 \
  -v $(pwd)/data:/app/data \
  yourusername/promptfactory:latest
```

#### 4. æœ¬åœ°è¿è¡Œï¼ˆä¸æ¨é€åˆ°ä»“åº“ï¼‰

```bash
# æ„å»ºå¹¶åŠ è½½åˆ°æœ¬åœ°Docker
docker buildx build --platform linux/arm64 -t promptfactory:arm64 --load .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name promptfactory \
  -p 5001:5001 \
  -v $(pwd)/data:/app/data \
  promptfactory:arm64
```

#### 5. Docker Compose éƒ¨ç½²

åˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
version: '3.8'

services:
  promptfactory:
    image: promptfactory:arm64
    container_name: promptfactory
    ports:
      - "5001:5001"
    volumes:
      - ./data:/app/data
      - promptfactory_db:/app
    environment:
      - FLASK_ENV=production
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5001/"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

volumes:
  promptfactory_db:
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

### é•œåƒæ‹‰å–å‘½ä»¤æ±‡æ€»

```bash
# å¦‚æœé•œåƒå·²å‘å¸ƒåˆ°Docker Hub
docker pull yourusername/promptfactory:latest

# æŒ‡å®šARM64æ¶æ„
docker pull --platform linux/arm64 yourusername/promptfactory:latest

# è¿è¡Œå®¹å™¨ï¼ˆç®€å•æ–¹å¼ï¼‰
docker run -d -p 5001:5001 --name promptfactory yourusername/promptfactory:latest

# è¿è¡Œå®¹å™¨ï¼ˆå¸¦æ•°æ®å·æŒ‚è½½ï¼‰
docker run -d \
  --name promptfactory \
  -p 5001:5001 \
  -v $(pwd)/data:/app/data \
  -v promptfactory_db:/app/projects.db \
  yourusername/promptfactory:latest
```

### é•œåƒç‰¹æ€§

- âœ… **å¤šæ¶æ„æ”¯æŒ**: ARM64 å’Œ AMD64
- âœ… **å®‰å…¨æ€§**: érootç”¨æˆ·è¿è¡Œ
- âœ… **å¥åº·æ£€æŸ¥**: è‡ªåŠ¨ç›‘æ§åº”ç”¨çŠ¶æ€
- âœ… **æ•°æ®æŒä¹…åŒ–**: æ”¯æŒæ•°æ®å·æŒ‚è½½
- âœ… **ç”Ÿäº§å°±ç»ª**: ä¼˜åŒ–çš„Pythonç¯å¢ƒ

## æ•°æ®åº“ç»“æ„

åº”ç”¨ä½¿ç”¨SQLiteæ•°æ®åº“å­˜å‚¨ä»¥ä¸‹ä¿¡æ¯ï¼š

### è¡¨ç»“æ„
- **projects**: é¡¹ç›®ä¿¡æ¯ï¼ˆIDã€åç§°ã€æè¿°ã€APIé…ç½®ã€æç¤ºè¯æ¨¡æ¿ï¼‰
- **processing_records**: å¤„ç†è®°å½•ï¼ˆæ–‡ä»¶åã€å¤„ç†ç»Ÿè®¡ã€çŠ¶æ€ã€æ—¶é—´ï¼‰
- **prompt_templates**: å…¨å±€æç¤ºè¯æ¨¡æ¿ï¼ˆåç§°ã€æè¿°ã€å†…å®¹ï¼‰

æ•°æ®åº“æ–‡ä»¶ï¼š`projects.db`ï¼ˆé¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»ºï¼‰

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### å¹¶å‘è®¾ç½®
- **APIé™åˆ¶è€ƒè™‘**: æ ¹æ®æ‚¨çš„APIæœåŠ¡å•†é™åˆ¶è®¾ç½®åˆç†çš„å¹¶å‘æ•°
- **ç½‘ç»œæ¡ä»¶**: ç½‘ç»œè¾ƒæ…¢æ—¶é™ä½å¹¶å‘æ•°ï¼Œé¿å…è¶…æ—¶
- **æ–‡ä»¶å¤§å°**: å¤§æ–‡ä»¶å»ºè®®ä½¿ç”¨5-10ä¸ªå¹¶å‘ï¼Œå°æ–‡ä»¶å¯å¢åŠ åˆ°20-50

### æœ€ä½³å®è·µ
1. **æµ‹è¯•å…ˆè¡Œ**: å¤§æ‰¹é‡å¤„ç†å‰å…ˆç”¨å°æ ·æœ¬æµ‹è¯•
2. **é”™è¯¯ç›‘æ§**: å…³æ³¨å®æ—¶æ—¥å¿—ï¼ŒåŠæ—¶å‘ç°é—®é¢˜
3. **ç½‘ç»œç¨³å®š**: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®šï¼Œé¿å…å¤„ç†ä¸­æ–­
4. **å¤‡ä»½æ•°æ®**: é‡è¦æ•°æ®å¤„ç†å‰è¯·åšå¥½å¤‡ä»½

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### APIè°ƒç”¨å¤±è´¥
- **æ£€æŸ¥é¡¹**: APIåœ°å€ã€å¯†é’¥ã€ç½‘ç»œè¿æ¥
- **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨"æµ‹è¯•æç¤ºè¯"åŠŸèƒ½éªŒè¯é…ç½®

#### å¹¶å‘æ•°è¿‡é«˜å¯¼è‡´é™æµ
- **ç°è±¡**: å¤§é‡è¯·æ±‚è¿”å›429é”™è¯¯
- **è§£å†³æ–¹æ¡ˆ**: é™ä½å¹¶å‘å·¥ä½œçº¿ç¨‹æ•°

#### æ–‡ä»¶æ ¼å¼é”™è¯¯
- **ç°è±¡**: ä¸Šä¼ åæ— æ³•è§£ææˆ–å‡ºç°JSONé”™è¯¯
- **è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿æ¯è¡Œéƒ½æ˜¯æœ‰æ•ˆçš„JSONæ ¼å¼

#### å†…å­˜ä¸è¶³
- **ç°è±¡**: å¤„ç†å¤§æ–‡ä»¶æ—¶åº”ç”¨å´©æºƒ
- **è§£å†³æ–¹æ¡ˆ**: åˆ†æ‰¹å¤„ç†æ–‡ä»¶æˆ–å¢åŠ ç³»ç»Ÿå†…å­˜

#### å¤„ç†ä¸­æ–­
- **ç°è±¡**: å¤„ç†è¿‡ç¨‹ä¸­æ–­å¼€ç½‘é¡µ
- **è§£å†³æ–¹æ¡ˆ**: ä¿æŒæµè§ˆå™¨æ ‡ç­¾é¡µå¼€å¯ï¼Œå¤„ç†å®Œæˆå‰ä¸è¦å…³é—­

## éƒ¨ç½²è¯´æ˜

### å¼€å‘ç¯å¢ƒ
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd server

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python app.py
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### ä½¿ç”¨Gunicorn
```bash
# å®‰è£…Gunicorn
pip install gunicorn

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
gunicorn -w 4 -b 0.0.0.0:5001 app:app
```

#### ä½¿ç”¨Docker
```dockerfile
FROM python:3.9-slim

WORKDIR /app

# å®‰è£…ä¾èµ–
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# æš´éœ²ç«¯å£
EXPOSE 5001

# å¯åŠ¨å‘½ä»¤
CMD ["python", "app.py"]
```

æ„å»ºå’Œè¿è¡Œï¼š
```bash
docker build -t promptfactory .
docker run -p 5001:5001 -v $(pwd)/projects.db:/app/projects.db promptfactory
```

### Nginxåå‘ä»£ç†é…ç½®
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:5001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        
        # SSEæ”¯æŒ
        proxy_buffering off;
        proxy_cache off;
    }
}
```

## æŠ€æœ¯æ ˆ

- **åç«¯**: Flask 2.3.3, SQLite3
- **å‰ç«¯**: åŸç”ŸJavaScript, CSS3, HTML5
- **å¹¶å‘å¤„ç†**: ThreadPoolExecutor
- **å®æ—¶é€šä¿¡**: Server-Sent Events (SSE)
- **HTTPè¯·æ±‚**: requests 2.31.0
- **è·¨åŸŸæ”¯æŒ**: Flask-CORS 4.0.0

## æ›´æ–°æ—¥å¿—

### v1.0.0 (å½“å‰ç‰ˆæœ¬)
- âœ… å¤šé¡¹ç›®ç®¡ç†ç³»ç»Ÿ
- âœ… å…¨å±€æç¤ºè¯æ¨¡æ¿åº“
- âœ… åŠ¨æ€æç¤ºè¯ç¼–è¾‘å™¨
- âœ… é«˜å¹¶å‘æ‰¹é‡å¤„ç†
- âœ… SSEå®æ—¶è¿›åº¦æ¨é€
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶
- âœ… å¤„ç†å†å²è®°å½•
- âœ… æ‹–æ‹½æ–‡ä»¶ä¸Šä¼ 
- âœ… å“åº”å¼UIè®¾è®¡

### è®¡åˆ’åŠŸèƒ½
- ğŸ”„ APIè°ƒç”¨ç¼“å­˜æœºåˆ¶
- ğŸ”„ æ›´å¤šé¢„ç½®æç¤ºè¯æ¨¡æ¿
- ğŸ”„ æ•°æ®ç»Ÿè®¡å’Œå¯è§†åŒ–
- ğŸ”„ ç”¨æˆ·æƒé™ç®¡ç†
- ğŸ”„ å¤šè¯­è¨€æ”¯æŒ

## è®¸å¯è¯

MIT License

## ä½œè€…

**Xixiang He**

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤Issueæˆ–Pull Requestã€‚ 