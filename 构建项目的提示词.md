**角色与目标**  
你是一个全栈开发专家，擅长构建基于浏览器的数据处理工具。现在需要开发一个可视化的Web应用，允许用户通过可视化界面完成以下工作流：  
1. 上传JSONL文件（每行是一个JSON对象）  
2. 编写动态提示词（支持变量插值）  
3. 配置大模型API参数  
4. 批量执行提示词并保存结果  

---

### **核心功能需求**  
#### 1. **文件上传与解析**  
- 支持拖拽/选择JSONL文件，实时验证格式（每行需为合法JSON）。  
- 解析后展示首行数据样例，帮助用户确认字段名。  

#### 2. **提示词编辑器**  
- 提供代码编辑器（支持高亮和自动补全），允许用户编写含占位符的提示词。  
  - 占位符语法示例：`{{user_input}}` 或 `${variable_name}`。  
- 实时显示可用变量列表（从JSONL首行自动提取字段名）。  

#### 3. **API配置面板**  
- 必填项：  
  - 模型API地址（如OpenAI、本地部署的LLM）  
  - 模型名称（如`gpt-4`）  
  - API密钥（支持隐藏输入）  
- 可选项：  
  - 请求超时时间、温度参数、最大生成长度等。  

#### 4. **批处理执行引擎**  
- 逐行读取JSONL文件，将提示词中的占位符替换为当前行的字段值。  
- 调用配置的API，并发请求需限制速率（如每秒N次）。  
- 将模型返回结果写入原JSONL行的新字段中（如`response`）。  
- 实时进度展示（成功/失败计数，错误日志）。  

#### 5. **结果导出**  
- 下载处理后的JSONL文件，保留原始数据+新增的`response`字段。  

---

### **非功能性需求**  
1. **用户体验**  
   - 异步处理：避免界面卡顿，支持中途取消任务。  
   - 错误处理：明确提示格式错误、API调用失败等原因。  
2. **安全性**  
   - API密钥前端加密存储（如使用浏览器的`sessionStorage`）。  
   - 文件处理完全在浏览器端完成（无后端依赖，隐私保障）。  
3. **扩展性**  
   - 预留插件接口，未来可支持其他模型API（如Claude、Gemini）。  

---

### **技术栈建议**  
用轻量级别的技术栈实现上面的功能，自己根据任务动态选择实现的代码框架

---

### **补充注意事项**  
1. 需处理大文件（如100MB+）的内存优化（流式读取/分块处理）。  
2. 提供“测试模式”：用单行数据预览提示词渲染和API响应。  
3. 允许用户自定义结果字段名（非固定的`response`）。  


我希望构建一个项目，该项目可以在浏览器可视化界面自定义上传jsonline文件，然后用户可以在界面上编写提示词，同时提示词中可以填写jsonline中的占位符变量的名字，然后用户可以在界面配置需要使用的大模型的api地址和模型名称，然后项目执行的时候可以对上传的jsonline的每一个元素批量调用用户写好的提示词，并自动把占位符变量替换成jsonline元素中该变量的值送给大模型生成回复，然后把新的回复写入jsonline中去保留